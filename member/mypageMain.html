<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <style>
       
       
    </style>
    
     <link rel="stylesheet" href="/css/reset.css">
     <link rel="stylesheet" href="/css/common.css">
     <link rel="stylesheet" href="/css/member/mypageMain.css">

</head>
<body>
    <div id="wrapper">
        <header>
            <div id="header"></div>
        </header>
        <main>
            <div class="info">
                <p class="info-title">나의 쇼핑정보</p>
                <div class="summary-table">
                    <div class="summary-item">
                        <span>주문</span><br>
                        <span class="summary-value">2</span>
                    </div>
                    <div class="summary-item">
                        <span>쿠폰</span><br>
                        <span class="summary-value">1</span>
                    </div>
                    <div class="summary-item">
                        <span>포인트</span><br>
                        <span class="summary-value">1,000</span>
                    </div>
                    <div class="summary-item">
                        <span>문의</span><br>
                        <span class="summary-value">1</span>
                    </div>
                </div>
            </div>

   
            <div id="container">
                <aside>
                    <ul>
                        <li><a href="">전체주문내역</a></li>
                        <li><a href="">포인트내역</a></li>
                        <li><a href="">쿠폰</a></li>
                        <li><a href="">나의리뷰</a></li>
                        <li><a href="">문의하기</a></li>
                        <li><a href="">나의설정</a></li>
                    </ul>
                </aside>

                <div>
                <div class="center">
                    <div class="ad">900x86 배너광고</div>

                    <div class="centerWrapper">
                    <div class="details">
                        <p>최근주문내역</p>
                        <a href="">더보기 ></a>
                    </div>

                    <table>
                        <tbody>      
                            <tr class="font">
                                <th>날짜</th>
                                <th>상품정보</th>  
                                <th>상태</th>  
                                <th>확인/신청</th>
                            </tr>
                            <tr class="tr1">
                                <td><data value="">2023-01-01</data></td>
                                <td>
                                    <div style="display: flex; align-items: center;">
                                        <div class="eximg">
                                            <img src="./img/ch.png" alt="상품 이미지">
                                        </div>
                                        <div class="Pinf">
                                            <a href="#" class="order-number">주문번호: 123456</a>                                        
                                            <a href="" class="seller-number">회사명: ABC 회사</a>
                                            <a href="">상품명</a>
                                            <p>수량: 2</p>
                                            <p>가격: 20,000원</p>
                                        </div>
                                    </div>
                                </td>
                                <td><data value="">배송완료</data></td>
                                <td>
                                    <div class="button" style="display: flex; flex-direction: column; gap: 3px; ">
                                        <button class="receipt-btn" id="custom-button">수취확인</button>
                                        <button class="pReview-btn" id="custom-button">상품평쓰기</button>
                                        <button>반품신청</button>
                                        <button>교환신청</button>
                                    </div>
                                </td>      
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
                <div class="centerWrapper">
                    <div class="details">
                        <p>포인트적립내역</p>
                        <a href="">더보기 ></a>
                    </div>

                    <table class="points-table">
                        <tbody>      
                            <tr class="font">
                                <th>날짜</th>
                                <th>구분</th>  
                                <th>주문번호</th>  
                                <th>적립번호</th>
                                <th>비고</th>
                                <th>유효기간</th>

                            </tr>
                            <tr class="tr2">
                                <td><data value="">2022-12-13</data></td>
                                <td><data value="">적립</data></td>
                                <td><data value="">2022121001</data></td>    
                                <td><data value="">340</data></td> 
                                <td><data value="">상품 구매확정</data></td> 
                                <td><data value="">2024-12-10</data></td>   
                            </tr>
                            
                        </tbody>
                    </table>
                </div>  
                    
                <div class="centerWrapper">
                    <div class="details">
                        <p>상품평</p>
                        <a href="">더보기 ></a>
                    </div>
                    
                    <table class="Review-table">
                        <tbody>      
                            <tr class="font">
                                <th>번호</th>
                                <th>상품명</th>  
                                <th>내용</th>  
                                <th>평점</th>
                                <th>작성일</th>

                            </tr>
                            <tr class="tr3">
                                <td><data value="">1</data></td>
                                <td><data value=""> 
                                    <div class="eximg2">
                                        <img src="./img/ch.png" alt="상품 이미지">
                                    </div>
                                    <div class="Pinf2">
                                        <p>상품번호<br> 123456</p>
                                        <p>상품명<br> 치킨</p>
                                    </div>
                                </data></td>
                                <td><data value="">배송이 빠릅니다. 잘사용하겠습니다.</data></td>    
                                <td><data value="">평점</data></td> 
                                <td><data value="">2022-12-10</data></td> 
                            </tr>
                            
                        </tbody>
                    </table>

                <div class="centerWrapper">
                    <div class="details">
                        <p>문의내역</p>
                        <a href="">더보기 ></a>
                    </div>

                    <table class="inquiry-table">
                        <tbody>      
                            <tr class="font">
                                <th>번호</th>
                                <th>문의채널</th>  
                                <th>문의유형</th>  
                                <th>제목</th>
                                <th>작성일</th>
                                <th>상태</th>

                            </tr>
                            <tr class="tr3">
                                <td><data value="">1</data></td>
                                <td><data value="">고객센터</data></td>
                                <td><data value="">주문 /결제</data></td>
                                <td><data value="">신용카드 결제 중 오류가 난 경우 어떻게 하나요?</data></td>    
                                <td><data value="">2022-12-12</data></td> 
                                <td><data value="">검토중</data></td> 
                            </tr>
                            
                        </tbody>
                    </table>
                </div>

                <div class="centerWrapper">
                        <div class="details">
                            <p>나의설정</p>
                        </div>
                        <div class="settings">
                            <div class="setting-item">
                                <div class="setting-item2-1">
                                <p>기본배송지설정</p>
                                <a href="#">변경</a>
                                </div>
                                <div class="setting-item2-1-1">
                                <p>부산광역시 사하구 다대포로 120<br>한빛빌딩 10층</p>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-item2-2">
                                <p>Email 설정</p>
                                <a href="#">변경</a>
                                </div>
                                <div class="setting-item2-2-2">
                                <p class="email">abc123@naver.com</p>
                                <p>(최종수정일 2021-12-10)</p>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-item2-3">
                                <p>휴대폰 설정</p>
                                <a href="#">변경</a>
                                </div>

                                <div class="setting-item2-3-3">
                                <p>010 - 1234 - 1001</p><br>
                                <p>(최종수정일 2021-12-10)</p>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </main>
        <footer>
            <div id="footer"></div>
        </footer>
    </div>

    <!-- Modal Structure -->
<div id="orderModal" class="modal receipt">
    cursor: pointer;
    <div class="modal-content order">
        <div class="header"> 
            <span class="close">&times;</span>
           <h3>주문상세</h3>
        </div>
        <table>
            <colgroup>
                <col style="width: 15%;">
                <col style="width: 50%;">
                <col style="width: 20%;">
                <col style="width: 15%;">
            </colgroup>
            <tr>
                <th>주문날짜</th>
                <th>상품정보</th>
                <th>결제금액</th>
                <th>상태</th>
            </tr>
            <tr>
                <td>
                    <span>2023-01-01</span>
                </td>
                <td>
                    <img src="./img/ch.png" alt="상품 이미지">
                    <div>
                        <p>주문번호 : 1012211341</p>
                        <p>(주) 상호명</p>
                        <p>상품명</p>
                        <p>수량: 1</p>
                        <p class="price">34000 </p>
                    </div>
                </td>
                <td>
                    <div><p>판매가</p> <span class="price">34000</span></div>
                    <div><p>할인</p><span class="price minus">3400</span></div>
                    <div><p>결제금액</p><span class="price strong">34000</span></div>
                </td>
                <td>
                    <p>배송완료</p>
                </td>
            </tr>
        </table>
        <h4>배송정보</h4>
        <section class="deleveryInfo"> 
            <div>
                <label for="name">이름</label>
                <span>홍길동</span>
            </div>
            <div>
                <label for="hp">연락처</label>
                <span>010-1234-1001</span>
            </div>
            <div>
                <label for="address">주소</label>
                <span>[210**] 부산광역시...</span>
            </div>
            <div>
                <label for="deleiverInfo">배송요청사항</label>
                <span>없음</span>
            </div>
        </section>
    </div>
</div>


<div id="sellerModal" class="modal seller">
    <div class="modal-content seller">
        <div class="header"> 
            <span class="close">&times;</span>
           <h3>문의하기</h3>
        </div>
       
        <table>
            <colgroup>
                <col style="width: 20%;">
                <col style="width: 80%;">
               
            </colgroup>
            <tr>
                <th>판매자등급</th>
                <td>파워딜러</td>
            </tr>
            <tr>
                <th>상호</th>
                <td>(주) 상호명</td>
            </tr>
            <tr>
                <th>대표자</th>
                <td>홍길동</td>
            </tr>
            <tr>
                <th>전화번호</th>
                <td>051-123-1000</td>
            </tr>
            <tr>
                <th>FAX</th>
                <td>051-123-1001</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>Company@abc.com</td>
            </tr>
            <tr>
                <th>사업자번호</th>
                <td>123-12-1234567</td>
            </tr>

            <tr>
                <th>영업소재지</th>
                <td>[210**] 부산광역시 부산진구 대연동 123 10층 1004호</td>
            </tr>
        </table>
        <p>위 정보는 전자상거래 법 제 20조 제 2 항 및 동법 시행령 제 25조 제 2항에 의거하여 소비자보호에 의거 공개합니다.</p>
        <div class="qnabtn">
            <a href="#" class="qna-btn">문의하기</a>
        </div>
    </div>
</div>


<div id="qnaModal" class="modal qna">
    <div class="modal-content qna">
        <div class="header"> 
            <span class="close">&times;</span>
           <h3>문의하기</h3>
        </div>
        <table>
            <colgroup>
                <col style="width: 20%;">
                <col style="width: 80%;">
                
            </colgroup>
            <tr>
                <th>문의유형</th>
                <td><input type="radio" id="product" name="inquiry-type" value="상품">
                    <label for="product">상품</label>
                    <input type="radio" id="shipping" name="inquiry-type" value="배송">
                    <label for="shipping">배송</label>
                    <input type="radio" id="return" name="inquiry-type" value="반품/취소">
                    <label for="return">반품/취소</label>
                    <input type="radio" id="exchange" name="inquiry-type" value="교환">
                    <label for="exchange">교환</label>
                    <input type="radio" id="other" name="inquiry-type" value="기타">
                    <label for="other">기타</label>
                </td>
            </tr>
            <tr>
                <th>Email</th>
                <td><input type="email" placeholder="chh**@gamil.com"></td>
            </tr>
            <tr>
                <th>제목</th>
                <td><input  type="text" id="title" name="title"></input></td>
            </tr>
            <tr>
                <th>내용</th>
                <td><textarea id="content" name="content"  class="content"></textarea></td>
            </tr>
        </table>
  
        <div class="modal-footer">
            <button type="button" class="btn-primary">등록하기</button>

            <button type="button" class="btn-secondary">취소</button>
        </div>
    </div>
</div>


<!-- 수취확인 modal -->
<div id="receiptModal" class="modal receipt">
    <div class="modal-content receipt">
        <div class="header"> 
            <span class="close receipt">&times;</span>
           <h3>문의하기</h3>
        </div>
        <div class="modalbody">
            <p>상품을 받으셨나요?</p>
            <p>상품을 받으신 분만 수취확인을 해주세요.</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn-primary">확인</button>

            <button type="button" class="btn-secondary">취소</button>
        </div>
        
    </div>
</div>


<!-- pReviewModal -->

<div id="pReviewModal" class="modal pReview">
    <div class="modal-content pReview">
        <div class="header"> 
            <span class="close pReview">&times;</span>
           <h3>상품평작성하기</h3>
        </div>
        <table>
            <colgroup>
                <col style="width: 20%;">
                <col style="width: 80%;">
                
            </colgroup>
            <tr>
                <th>상품명</th>
                <td>
                    <span>상품명 출력</span>
                </td>
            </tr>
            <tr>
                <th>만족도</th>
                <td>
                    <div class="star-rating">
                        <span class="star" data-value="1">&#9733;</span>
                        <span class="star" data-value="2">&#9733;</span>
                        <span class="star" data-value="3">&#9733;</span>
                        <span class="star" data-value="4">&#9733;</span>
                        <span class="star" data-value="5">&#9733;</span>
                    </div>
                </td>
            </tr>
            <tr>
                <th>파일</th>
                <td>
                    <div id="fileContainer">
                        <input type="file" class="file-input" name="pReviewFiles">
                    </div>                </td>
            </tr>
            <tr>
                <th>내용</th>
                <td><textarea id="content" name="content"  class="content"></textarea></td>
            </tr>
        </table>
  
        <div class="modal-footer">
            <button type="button" class="btn-primary">등록하기</button>

            <button type="button" class="btn-secondary">취소</button>
        </div>
    </div>
</div>
</body>
<script>
    fetch('/include/header.html') // 헤더 파일 경로
   .then(response => {
     if (!response.ok) {
       throw new Error('Network response was not ok');
     }
     return response.text();
   })
   .then(data => {
     document.getElementById('header').innerHTML = data;
   })
   .catch(error => console.error('Error loading header:', error));

   fetch('/include/footer.html')
   .then(response => {
     if (!response.ok) {
       throw new Error('Network response was not ok');
     }
     return response.text();
   })
   .then(data => {
     document.getElementById('footer').innerHTML = data;
   })
   .catch(error => console.error('Error loading footer:', error));


   document.addEventListener('DOMContentLoaded', function() {

    
    // price 클래스를 가진 모든 요소를 선택
    const priceElements = document.querySelectorAll('.price');
        
    // 각 price 요소에 대해 반복하여 처리
    priceElements.forEach(priceElement => {
        let priceValue = priceElement.textContent.trim().replace(/[^0-9]/g, ''); // 숫자가 아닌 문자를 제거
        priceValue = parseInt(priceValue, 10); // 정수로 변환

        if (!isNaN(priceValue)) { // 변환된 값이 NaN이 아닌 경우에만 적용
            priceElement.textContent = priceValue.toLocaleString();  // 천단위로 쉼표 추가
        }
    });


    const modal = document.getElementById("orderModal");
    const closeModalBtn = document.querySelector(".modal .close");
    const orderNumbers = document.querySelectorAll(".order-number");

    orderNumbers.forEach(order => {
        order.addEventListener("click", function(e) {
            e.preventDefault();
            modal.style.display = "block"; // Show the modal
        });
    });

    // Close modal when clicking the close button
    closeModalBtn.addEventListener("click", function() {
        modal.style.display = "none"; // Hide the modal
    });

    // Close modal when clicking outside the modal content
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none"; // Hide the modal
        }
    };

    //판매자정보 모달창
    const sellerModal = document.getElementById("sellerModal");
    const sellerNumbers = document.querySelectorAll(".seller-number");
    const closeModalBtn2 = document.querySelector(".modal.seller .close");

    sellerNumbers.forEach(order => {
        order.addEventListener("click", function(e) {
            e.preventDefault();
            sellerModal.style.display = "block"; // Show the modal
        });
    });

    // Close modal when clicking the close button
    closeModalBtn2.addEventListener("click", function() {
        sellerModal.style.display = "none"; // Hide the modal
    });

    // Close modal when clicking outside the modal content
    window.onclick = function(event) {
        if (event.target == sellerModal) {
            sellerModal.style.display = "none"; // Hide the modal
        }
    };

    //판매자정보- 문의하기 모달창
    const qnabtn = document.querySelectorAll(".qna-btn");
    const qnaModel = document.getElementById("qnaModal");
    const closeModalBtn3 = document.querySelector(".modal.qna .close");

    qnabtn.forEach(order => {
        order.addEventListener("click", function(e) {
            e.preventDefault();
            qnaModel.style.display = "block"; // Show the modal
            sellerModal.style.display="none"
        });
    });

    // Close modal when clicking the close button
    closeModalBtn3.addEventListener("click", function() {
        qnaModel.style.display = "none"; // Hide the modal
    });

    // Close modal when clicking outside the modal content
    window.onclick = function(event) {
        if (event.target == qnaModel) {
            qnaModel.style.display = "none"; // Hide the modal
        }
    };


    //recipit 모달창
    const qreceiptbtn = document.querySelectorAll(".receipt-btn");
    const receiptModel = document.getElementById("receiptModal");
    const closeModalBtn4 = document.querySelector(".modal.receipt .close.receipt");
    console.log(closeModalBtn4);
    qreceiptbtn.forEach(order => {
        order.addEventListener("click", function(e) {
            e.preventDefault();
            receiptModel.style.display = "block"; // Show the modal
           
        });
    });

    // Close modal when clicking the close button
    closeModalBtn4.addEventListener("click", function() {
        receiptModel.style.display = "none"; // Hide the modal
    });

    // Close modal when clicking outside the modal content
    window.onclick = function(event) {
        if (event.target == receiptModel) {
            receiptModel.style.display = "none"; // Hide the modal
        }
    };

    //pReview-btn
    const pReviewbtn = document.querySelectorAll(".pReview-btn");
    const pReviewModel = document.getElementById("pReviewModal");
    const closeModalBtn5 = document.querySelector(".modal.pReview .close.pReview");
    console.log(closeModalBtn4);
    pReviewbtn.forEach(order => {
        order.addEventListener("click", function(e) {
            e.preventDefault();
            pReviewModel.style.display = "block"; // Show the modal
           
        });
    });

    // Close modal when clicking the close button
    closeModalBtn5.addEventListener("click", function() {
        pReviewModel.style.display = "none"; // Hide the modal
    });

    // Close modal when clicking outside the modal content
    window.onclick = function(event) {
        if (event.target == pReviewModel) {
            pReviewModel.style.display = "none"; // Hide the modal
        }
    };

    const stars = document.querySelectorAll('.star-rating .star');
    
    // 별점 클릭 이벤트
    stars.forEach(star => {
        star.addEventListener('click', function () {
            const ratingValue = parseInt(this.getAttribute('data-value'));
            
            // 선택된 별까지 모두 gold로 변경
            stars.forEach((s, index) => {
                if (index < ratingValue) {
                    s.classList.add('selected');
                } else {
                    s.classList.remove('selected');
                }
            });
        });
    });

    // 파일 추가 시 새로운 input[type="file"] 동적 추가
    const fileContainer = document.getElementById('fileContainer');
    fileContainer.addEventListener('change', function (event) {
        const target = event.target;
        if (target.classList.contains('file-input') && target.files.length > 0) {
            // 새로운 파일 input 추가
            const newFileInput = document.createElement('input');
            newFileInput.type = 'file';
            newFileInput.name = 'pReviewFiles';
            newFileInput.classList.add('file-input');
            fileContainer.appendChild(newFileInput);
        }
    });
    

});
 </script>
</html>